import { request } from "@octokit/request";
import { getCache } from "./get-cache";
import { getInstallationAccessToken } from "./get-installation-access-token";
import { getSignedJsonWebToken } from "./get-signed-json-web-token";
import { VERSION } from "./version";
let deprecateOnce = () => {
    console.warn("[@octokit/app] Deprecated. Use @octokit/app-auth instead. See https://github.com/octokit/app.js/#deprecated");
    deprecateOnce = () => { };
};
export class App {
    constructor({ id, privateKey, baseUrl, cache }) {
        const state = {
            id,
            privateKey,
            request: baseUrl ? request.defaults({ baseUrl }) : request,
            cache: cache || getCache(),
        };
        this.getSignedJsonWebToken = getSignedJsonWebToken.bind(null, state);
        this.getInstallationAccessToken = getInstallationAccessToken.bind(null, state);
        deprecateOnce();
    }
}
App.VERSION = VERSION;
